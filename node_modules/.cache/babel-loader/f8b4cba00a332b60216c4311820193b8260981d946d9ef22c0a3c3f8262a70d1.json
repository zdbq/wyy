{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Bfym',\n  data() {\n    return {\n      ms: 0,\n      xz: '',\n      timer: '',\n      flag: false,\n      jg: {\n        url: '',\n        item: {},\n        gc: [],\n        gcsjsj: []\n      }\n    };\n  },\n  methods: {\n    xzdh() {\n      clearInterval(this.timer);\n      this.flag = !this.flag;\n    },\n    bfs() {\n      clearInterval(this.timer);\n      this.timer = setInterval(() => {\n        this.ms += 0.1;\n        this.xz = `rotate(${this.ms}deg)`;\n      }, 1);\n    },\n    zts() {\n      clearInterval(this.timer);\n    },\n    gcsj() {\n      console.log(his.$refs.bfyp.currentTime);\n    }\n  },\n  computed: {\n    item() {\n      return this.jg.item;\n    }\n  },\n  watch: {\n    flag() {\n      if (this.flag) {\n        clearInterval(this.timer);\n        this.timer = setInterval(() => {\n          this.ms += 0.1;\n          this.xz = `rotate(${this.ms}deg)`;\n        }, 1);\n        this.$refs.bfyp.play();\n      } else {\n        clearInterval(this.timer);\n        this.$refs.bfyp.pause();\n      }\n    }\n  },\n  activated() {\n    history.pushState(null, null, document.URL);\n    window.addEventListener('popstate', () => {\n      history.pushState(null, null, document.URL);\n    });\n    this.$router.push({\n      name: 'Bfym'\n    }, () => {});\n    this.jg.url = this.$route.params.url;\n    this.jg.item = this.$route.params.item;\n\n    // this.jg.gc = this.$route.params.gc\n\n    let item = this.$route.params.gc.split('\\n');\n    let gc = [];\n    let sj = [];\n    let newSj = [];\n    item.forEach(e => {\n      gc.push(e.split(']')[1]);\n      sj.push(e.split(']')[0].split('[')[1]);\n    });\n    sj = sj.slice(0, sj.length - 1);\n    this.jg.gc = gc.slice(0, gc.length - 1);\n    sj.forEach(e => {\n      let item = e.split(':');\n      newSj.push((item[0] - 0) * 60 + (item[1] - 0));\n    });\n    this.jg.gcsjsj = newSj;\n    console.log(this.jg.gcsjsj);\n    this.$refs.bfyp.currentTime = 62.179;\n  }\n};","map":{"version":3,"mappings":";AAqCA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MACAD;MACA;QACA;QACA;MACA;IACA;IACAE;MACAF;IACA;IACAG;MACAC;IACA;EACA;EACAC;IACAV;MACA;IACA;EACA;EACAW;IACAd;MACA;QACAQ;QACA;UACA;UACA;QACA;QACA;MACA;QACAA;QACA;MACA;IACA;EACA;EACAO;IACAC;IACAC;MACAD;IACA;IACA;MACArB;IACA;IACA;IACA;;IAEA;;IAEA;IACA;IACA;IACA;IACAQ;MACAC;MACAc;IACA;IACAA;IACA;IACAA;MAEA;MACAC;IACA;IACA;IACAP;IAEA;EACA;AACA","names":["name","data","ms","xz","timer","flag","jg","url","item","gc","gcsjsj","methods","xzdh","clearInterval","bfs","zts","gcsj","console","computed","watch","activated","history","window","sj","newSj"],"sourceRoot":"src/components","sources":["Bfym.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"box\" v-if=\"item\">\r\n            <img v-if=\"item.al\" :src=\"item.al.picUrl\" alt=\"\">\r\n            <div class=\"zzc\"></div>\r\n\r\n            <div class=\"fmxz\" :style=\"{ 'transform': xz }\" @click=\"xzdh\">\r\n                <div class=\"fmxz2\">\r\n                    <img v-if=\"item.al\" :src=\"item.al.picUrl\" alt=\"\">\r\n                </div>\r\n            </div>\r\n            <div class=\"gm\">\r\n                <div class=\"gm-l\">{{ item.name }}</div>\r\n                <div class=\"gm-r\" v-if=\"item.ar\">\r\n                    {{ item.ar[0].name }}{{ item.ar.length == '2' ? ` / ${item.ar[1].name}` : '' }}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <el-scrollbar style=\"height:100%\">\r\n                <!-- 歌词 -->\r\n                <div class=\"gc\">\r\n                    <div class=\"jcitem\" v-for=\"(gcjg, index) in jg.gc\" :key=\"index\">\r\n                        {{ gcjg }}\r\n                    </div>\r\n                </div>\r\n            </el-scrollbar>\r\n            <div class=\"mp3\">\r\n                <audio controls ref=\"bfyp\" @play=\"bfs\" @pause=\"zts\" @timeupdate=\"gcsj\">\r\n                    <source :src=\"jg.url\" type=\"audio/mpeg\">\r\n                </audio>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Bfym',\r\n    data() {\r\n        return {\r\n            ms: 0,\r\n            xz: '',\r\n            timer: '',\r\n            flag: false,\r\n            jg: {\r\n                url: '',\r\n                item: {},\r\n                gc: [],\r\n                gcsjsj: [],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        xzdh() {\r\n            clearInterval(this.timer)\r\n            this.flag = !this.flag\r\n        },\r\n        bfs() {\r\n            clearInterval(this.timer)\r\n            this.timer = setInterval(() => {\r\n                this.ms += 0.1\r\n                this.xz = `rotate(${this.ms}deg)`\r\n            }, 1);\r\n        },\r\n        zts() {\r\n            clearInterval(this.timer)\r\n        },\r\n        gcsj() {\r\n            console.log(his.$refs.bfyp.currentTime);\r\n        }\r\n    },\r\n    computed: {\r\n        item() {\r\n            return this.jg.item\r\n        }\r\n    },\r\n    watch: {\r\n        flag() {\r\n            if (this.flag) {\r\n                clearInterval(this.timer)\r\n                this.timer = setInterval(() => {\r\n                    this.ms += 0.1\r\n                    this.xz = `rotate(${this.ms}deg)`\r\n                }, 1);\r\n                this.$refs.bfyp.play()\r\n            } else {\r\n                clearInterval(this.timer)\r\n                this.$refs.bfyp.pause()\r\n            }\r\n        }\r\n    },\r\n    activated() {\r\n        history.pushState(null, null, document.URL)\r\n        window.addEventListener('popstate', () => {\r\n            history.pushState(null, null, document.URL)\r\n        })\r\n        this.$router.push({\r\n            name: 'Bfym',\r\n        }, () => { })\r\n        this.jg.url = this.$route.params.url\r\n        this.jg.item = this.$route.params.item\r\n\r\n        // this.jg.gc = this.$route.params.gc\r\n\r\n        let item = this.$route.params.gc.split('\\n')\r\n        let gc = []\r\n        let sj = []\r\n        let newSj = []\r\n        item.forEach((e) => {\r\n            gc.push(e.split(']')[1])\r\n            sj.push(e.split(']')[0].split('[')[1])\r\n        })\r\n        sj = sj.slice(0, sj.length - 1)\r\n        this.jg.gc = gc.slice(0, gc.length - 1)\r\n        sj.forEach((e) => {\r\n\r\n            let item = e.split(':')\r\n            newSj.push(((item[0] - 0) * 60) + (item[1] - 0))\r\n        })\r\n        this.jg.gcsjsj = newSj\r\n        console.log(this.jg.gcsjsj);\r\n\r\n        this.$refs.bfyp.currentTime = 62.179\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.box {\r\n    width: 100%;\r\n    height: 600px;\r\n    position: relative;\r\n}\r\n\r\n.box>img {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    filter: blur(10px);\r\n}\r\n\r\n.zzc {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgb(0, 0, 0, .6);\r\n    position: absolute;\r\n}\r\n\r\n.fmxz {\r\n    width: 257px;\r\n    height: 257px;\r\n    background-color: rgb(255, 255, 255, .1);\r\n    position: absolute;\r\n    left: calc(50% - 123.5px);\r\n    top: 50px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.fmxz2 {\r\n    width: 93%;\r\n    height: 93%;\r\n    background-color: rgb(0, 0, 0);\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.fmxz img {\r\n    width: 70%;\r\n    height: 70%;\r\n    border-radius: 50%;\r\n}\r\n\r\n.gm {\r\n    padding: 0 10px;\r\n    width: 100%;\r\n    height: 20px;\r\n    position: absolute;\r\n    top: 320px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.gm-l {\r\n    font-size: 18px;\r\n    color: #fefefe;\r\n    margin-right: 10px;\r\n}\r\n\r\n.gm-r {\r\n    font-size: 16px;\r\n    color: hsla(0, 0%, 100%, .6);\r\n}\r\n\r\n.gc {\r\n    width: 100%;\r\n    height: 130px;\r\n    position: absolute;\r\n    top: 364px;\r\n    left: 0;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.mp3 {\r\n    width: 100%;\r\n    height: 50px;\r\n    position: absolute;\r\n    top: 520px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.mp3 audio {\r\n    width: 350px;\r\n    height: 30px;\r\n}\r\n\r\n.jcitem {\r\n    width: 100%;\r\n    padding: 3px 0;\r\n    text-align: center;\r\n    font-size: 14px;\r\n}\r\n\r\n.jcitemxz {\r\n    width: 100%;\r\n    padding: 3px 0;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    color: white;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}